import{u as v,r as u,c as V,b as t,o as k,d as e,h as E,bN as x,E as y}from"./index-_b0YwpYL.js";import{E as w,a as U}from"./el-form-item-BzrzQ6EJ.js";import{E as B}from"./_plugin-vue_export-helper-D2bKE1DW.js";import{E as F}from"./el-input-DEeDvsy5.js";import{_ as I}from"./PageContainer-B5wyqILh.js";import"./el-message-CbAn_9g2.js";const $={__name:"UserProfile",setup(N){const{user:{email:n,nickname:i,id:d,username:p},getUser:f}=v(),m=u(),l=u({id:d,username:p,nickname:i,email:n}),_=u({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称长度在 2 到 10 非空个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}),c=async()=>{await m.value.validate(),await x(l.value),f(),y.success("修改成功")};return(S,a)=>{const s=F,r=U,g=B,b=w;return k(),V(I,{title:"基本资料"},{default:t(()=>[e(b,{model:l.value,rules:_.value,ref_key:"formRef",ref:m,"label-width":"100px"},{default:t(()=>[e(r,{label:"登录账号",style:{width:"500px"}},{default:t(()=>[e(s,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname",style:{width:"500px"}},{default:t(()=>[e(s,{modelValue:l.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email",style:{width:"500px"}},{default:t(()=>[e(s,{modelValue:l.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>a[3]||(a[3]=[E("提交修改")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{$ as default};
