import{c0 as xe,bZ as we,b5 as ae,c1 as Re,b3 as je,a_ as et,b4 as tt,c2 as nt,aD as Be,p as Se,k as Oe,x as Q,aj as at,m as j,n as Ce,aG as ot,v as h,bC as st,a0 as Le,at as G,r as M,w as X,R as ee,aB as Ee,a1 as T,_ as lt,s as Me,c3 as rt,J as it,t as Ie,ay as ut,c4 as ct,c5 as dt,ah as pt,ag as ft,M as vt,P as mt,z as C,o as m,X as g,a3 as te,e as N,F as b,f as o,A as _,c as I,b as O,C as U,D as L,H as Pe,d as ht,aF as gt,a2 as yt,by as bt,ak as W,B as ze,ae as Fe,G as xt}from"./index-_b0YwpYL.js";import{i as Ae,k as wt,l as St,u as Ct,f as Et,c as It,d as Pt,e as ke}from"./_plugin-vue_export-helper-D2bKE1DW.js";function zt(e){return e}function Ft(e,a,l){switch(l.length){case 0:return e.call(a);case 1:return e.call(a,l[0]);case 2:return e.call(a,l[0],l[1]);case 3:return e.call(a,l[0],l[1],l[2])}return e.apply(a,l)}var kt=800,Nt=16,Tt=Date.now;function Vt(e){var a=0,l=0;return function(){var n=Tt(),s=Nt-(n-l);if(l=n,s>0){if(++a>=kt)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Rt(e){return function(){return e}}var Bt=xe?function(e,a){return xe(e,"toString",{configurable:!0,enumerable:!1,value:Rt(a),writable:!0})}:zt,Ot=Vt(Bt),Ne=Math.max;function Lt(e,a,l){return a=Ne(a===void 0?e.length-1:a,0),function(){for(var n=arguments,s=-1,u=Ne(n.length-a,0),r=Array(u);++s<u;)r[s]=n[a+s];s=-1;for(var i=Array(a+1);++s<a;)i[s]=n[s];return i[a]=l(r),Ft(e,this,i)}}var Te=we?we.isConcatSpreadable:void 0;function Mt(e){return ae(e)||Ae(e)||!!(Te&&e&&e[Te])}function At(e,a,l,n,s){var u=-1,r=e.length;for(l||(l=Mt),s||(s=[]);++u<r;){var i=e[u];l(i)?wt(s,i):s[s.length]=i}return s}function Ht(e){var a=e==null?0:e.length;return a?At(e):[]}function $t(e){return Ot(Lt(e,void 0,Ht),e+"")}function mn(){if(!arguments.length)return[];var e=arguments[0];return ae(e)?e:[e]}function Dt(e,a){return e!=null&&a in Object(e)}function Kt(e,a,l){a=Re(a,e);for(var n=-1,s=a.length,u=!1;++n<s;){var r=je(a[n]);if(!(u=e!=null&&l(e,r)))break;e=e[r]}return u||++n!=s?u:(s=e==null?0:e.length,!!s&&St(s)&&et(r,s)&&(ae(e)||Ae(e)))}function _t(e,a){return e!=null&&Kt(e,a,Dt)}function Ut(e,a,l){for(var n=-1,s=a.length,u={};++n<s;){var r=a[n],i=tt(e,r);l(i,r)&&nt(u,Re(r,e),i)}return u}function Wt(e,a){return Ut(e,a,function(l,n){return _t(e,n)})}var Gt=$t(function(e,a){return e==null?{}:Wt(e,a)});const ne="update:modelValue",hn="change",Xt=()=>Be&&/firefox/i.test(window.navigator.userAgent);let S;const Yt={height:"0",visibility:"hidden",overflow:Xt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Zt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Jt(e){const a=window.getComputedStyle(e),l=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),s=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Zt.map(r=>[r,a.getPropertyValue(r)]),paddingSize:n,borderSize:s,boxSizing:l}}function Ve(e,a=1,l){var n;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:s,borderSize:u,boxSizing:r,contextStyle:i}=Jt(e);i.forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v)),Object.entries(Yt).forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v,"important")),S.value=e.value||e.placeholder||"";let d=S.scrollHeight;const x={};r==="border-box"?d=d+u:r==="content-box"&&(d=d-s),S.value="";const f=S.scrollHeight-s;if(Se(a)){let y=f*a;r==="border-box"&&(y=y+s+u),d=Math.max(y,d),x.minHeight=`${y}px`}if(Se(l)){let y=f*l;r==="border-box"&&(y=y+s+u),d=Math.min(y,d)}return x.height=`${d}px`,(n=S.parentNode)==null||n.removeChild(S),S=void 0,x}const qt=Oe({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Qt=e=>Gt(qt,e),jt=Oe({id:{type:String,default:void 0},size:ot,disabled:Boolean,modelValue:{type:j([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:j([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ce},prefixIcon:{type:Ce},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:j([Object,Array,String]),default:()=>at({})},autofocus:Boolean,rows:{type:Number,default:2},...Qt(["ariaLabel"])}),en={[ne]:e=>Q(e),input:e=>Q(e),change:e=>Q(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},tn=["class","style"],nn=/^on[A-Z]/,an=(e={})=>{const{excludeListeners:a=!1,excludeKeys:l}=e,n=h(()=>((l==null?void 0:l.value)||[]).concat(tn)),s=Le();return s?h(()=>{var u;return st(Object.entries((u=s.proxy)==null?void 0:u.$attrs).filter(([r])=>!n.value.includes(r)&&!(a&&nn.test(r))))}):h(()=>({}))};function on(e,{beforeFocus:a,afterFocus:l,beforeBlur:n,afterBlur:s}={}){const u=Le(),{emit:r}=u,i=G(),d=M(!1),x=v=>{Ee(a)&&a(v)||d.value||(d.value=!0,r("focus",v),l==null||l())},f=v=>{var w;Ee(n)&&n(v)||v.relatedTarget&&((w=i.value)!=null&&w.contains(v.relatedTarget))||(d.value=!1,r("blur",v),s==null||s())},y=()=>{var v,w;(v=i.value)!=null&&v.contains(document.activeElement)&&i.value!==document.activeElement||(w=e.value)==null||w.focus()};return X(i,v=>{v&&v.setAttribute("tabindex","-1")}),ee(i,"focus",x,!0),ee(i,"blur",f,!0),ee(i,"click",y,!0),{isFocused:d,wrapperRef:i,handleFocus:x,handleBlur:f}}const sn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function ln({afterComposition:e,emit:a}){const l=M(!1),n=i=>{a==null||a("compositionstart",i),l.value=!0},s=i=>{var d;a==null||a("compositionupdate",i);const x=(d=i.target)==null?void 0:d.value,f=x[x.length-1]||"";l.value=!sn(f)},u=i=>{a==null||a("compositionend",i),l.value&&(l.value=!1,T(()=>e(i)))};return{isComposing:l,handleComposition:i=>{i.type==="compositionend"?u(i):s(i)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:u}}function rn(e){let a;function l(){if(e.value==null)return;const{selectionStart:s,selectionEnd:u,value:r}=e.value;if(s==null||u==null)return;const i=r.slice(0,Math.max(0,s)),d=r.slice(Math.max(0,u));a={selectionStart:s,selectionEnd:u,value:r,beforeTxt:i,afterTxt:d}}function n(){if(e.value==null||a==null)return;const{value:s}=e.value,{beforeTxt:u,afterTxt:r,selectionStart:i}=a;if(u==null||r==null||i==null)return;let d=s.length;if(s.endsWith(r))d=s.length-r.length;else if(s.startsWith(u))d=u.length;else{const x=u[i-1],f=s.indexOf(x,i-1);f!==-1&&(d=f+1)}e.value.setSelectionRange(d,d)}return[l,n]}const un=Me({name:"ElInput",inheritAttrs:!1}),cn=Me({...un,props:jt,emits:en,setup(e,{expose:a,emit:l}){const n=e,s=rt(),u=an(),r=it(),i=h(()=>[n.type==="textarea"?oe.b():c.b(),c.m(v.value),c.is("disabled",w.value),c.is("exceed",Ue.value),{[c.b("group")]:r.prepend||r.append,[c.m("prefix")]:r.prefix||n.prefixIcon,[c.m("suffix")]:r.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:K.value&&Z.value,[c.b("hidden")]:n.type==="hidden"},s.class]),d=h(()=>[c.e("wrapper"),c.is("focus",D.value)]),{form:x,formItem:f}=It(),{inputId:y}=Pt(n,{formItemContext:f}),v=Ct(),w=Et(),c=Ie("input"),oe=Ie("textarea"),A=G(),E=G(),Y=M(!1),H=M(!1),se=M(),$=G(n.inputStyle),z=h(()=>A.value||E.value),{wrapperRef:He,isFocused:D,handleFocus:$e,handleBlur:De}=on(z,{beforeFocus(){return w.value},afterBlur(){var t;n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(p=>ke()))}}),le=h(()=>{var t;return(t=x==null?void 0:x.statusIcon)!=null?t:!1}),V=h(()=>(f==null?void 0:f.validateState)||""),re=h(()=>V.value&&ut[V.value]),Ke=h(()=>H.value?ct:dt),_e=h(()=>[s.style]),ie=h(()=>[n.inputStyle,$.value,{resize:n.resize}]),P=h(()=>pt(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!w.value&&!n.readonly&&!!P.value&&(D.value||Y.value)),Z=h(()=>n.showPassword&&!w.value&&!!P.value&&(!!P.value||D.value)),F=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!w.value&&!n.readonly&&!n.showPassword),J=h(()=>P.value.length),Ue=h(()=>!!F.value&&J.value>Number(n.maxlength)),We=h(()=>!!r.suffix||!!n.suffixIcon||K.value||n.showPassword||F.value||!!V.value&&le.value),[ue,ce]=rn(A);ft(E,t=>{if(Ge(),!F.value||n.resize!=="both")return;const p=t[0],{width:k}=p.contentRect;se.value={right:`calc(100% - ${k+15+6}px)`}});const R=()=>{const{type:t,autosize:p}=n;if(!(!Be||t!=="textarea"||!E.value))if(p){const k=Fe(p)?p.minRows:void 0,ye=Fe(p)?p.maxRows:void 0,be=Ve(E.value,k,ye);$.value={overflowY:"hidden",...be},T(()=>{E.value.offsetHeight,$.value=be})}else $.value={minHeight:Ve(E.value).minHeight}},Ge=(t=>{let p=!1;return()=>{var k;if(p||!n.autosize)return;((k=E.value)==null?void 0:k.offsetParent)===null||(t(),p=!0)}})(R),B=()=>{const t=z.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},q=async t=>{ue();let{value:p}=t.target;if(n.formatter&&n.parser&&(p=n.parser(p)),!pe.value){if(p===P.value){B();return}l(ne,p),l("input",p),await T(),B(),ce()}},de=t=>{let{value:p}=t.target;n.formatter&&n.parser&&(p=n.parser(p)),l("change",p)},{isComposing:pe,handleCompositionStart:fe,handleCompositionUpdate:ve,handleCompositionEnd:me}=ln({emit:l,afterComposition:q}),Xe=()=>{ue(),H.value=!H.value,setTimeout(ce)},Ye=()=>{var t;return(t=z.value)==null?void 0:t.focus()},Ze=()=>{var t;return(t=z.value)==null?void 0:t.blur()},Je=t=>{Y.value=!1,l("mouseleave",t)},qe=t=>{Y.value=!0,l("mouseenter",t)},he=t=>{l("keydown",t)},Qe=()=>{var t;(t=z.value)==null||t.select()},ge=()=>{l(ne,""),l("change",""),l("clear"),l("input","")};return X(()=>n.modelValue,()=>{var t;T(()=>R()),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(p=>ke()))}),X(P,()=>B()),X(()=>n.type,async()=>{await T(),B(),R()}),vt(()=>{!n.formatter&&n.parser,B(),T(R)}),a({input:A,textarea:E,ref:z,textareaStyle:ie,autosize:mt(n,"autosize"),isComposing:pe,focus:Ye,blur:Ze,select:Qe,clear:ge,resizeTextarea:R}),(t,p)=>(m(),C("div",{class:b([o(i),{[o(c).bm("group","append")]:t.$slots.append,[o(c).bm("group","prepend")]:t.$slots.prepend}]),style:ze(o(_e)),onMouseenter:qe,onMouseleave:Je},[g(" input "),t.type!=="textarea"?(m(),C(te,{key:0},[g(" prepend slot "),t.$slots.prepend?(m(),C("div",{key:0,class:b(o(c).be("group","prepend"))},[_(t.$slots,"prepend")],2)):g("v-if",!0),N("div",{ref_key:"wrapperRef",ref:He,class:b(o(d))},[g(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),C("span",{key:0,class:b(o(c).e("prefix"))},[N("span",{class:b(o(c).e("prefix-inner"))},[_(t.$slots,"prefix"),t.prefixIcon?(m(),I(o(L),{key:0,class:b(o(c).e("icon"))},{default:O(()=>[(m(),I(U(t.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),N("input",Pe({id:o(y),ref_key:"input",ref:A,class:o(c).e("inner")},o(u),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:q,onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),g(" suffix slot "),o(We)?(m(),C("span",{key:1,class:b(o(c).e("suffix"))},[N("span",{class:b(o(c).e("suffix-inner"))},[!o(K)||!o(Z)||!o(F)?(m(),C(te,{key:0},[_(t.$slots,"suffix"),t.suffixIcon?(m(),I(o(L),{key:0,class:b(o(c).e("icon"))},{default:O(()=>[(m(),I(U(t.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),o(K)?(m(),I(o(L),{key:1,class:b([o(c).e("icon"),o(c).e("clear")]),onMousedown:yt(o(bt),["prevent"]),onClick:ge},{default:O(()=>[ht(o(gt))]),_:1},8,["class","onMousedown"])):g("v-if",!0),o(Z)?(m(),I(o(L),{key:2,class:b([o(c).e("icon"),o(c).e("password")]),onClick:Xe},{default:O(()=>[(m(),I(U(o(Ke))))]),_:1},8,["class"])):g("v-if",!0),o(F)?(m(),C("span",{key:3,class:b(o(c).e("count"))},[N("span",{class:b(o(c).e("count-inner"))},W(o(J))+" / "+W(t.maxlength),3)],2)):g("v-if",!0),o(V)&&o(re)&&o(le)?(m(),I(o(L),{key:4,class:b([o(c).e("icon"),o(c).e("validateIcon"),o(c).is("loading",o(V)==="validating")])},{default:O(()=>[(m(),I(U(o(re))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),t.$slots.append?(m(),C("div",{key:1,class:b(o(c).be("group","append"))},[_(t.$slots,"append")],2)):g("v-if",!0)],64)):(m(),C(te,{key:1},[g(" textarea "),N("textarea",Pe({id:o(y),ref_key:"textarea",ref:E,class:[o(oe).e("inner"),o(c).is("focus",o(D))]},o(u),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,style:o(ie),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:q,onFocus:o($e),onBlur:o(De),onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(F)?(m(),C("span",{key:0,style:ze(se.value),class:b(o(c).e("count"))},W(o(J))+" / "+W(t.maxlength),7)):g("v-if",!0)],64))],38))}});var dn=lt(cn,[["__file","input.vue"]]);const gn=xt(dn);export{hn as C,gn as E,ne as U,on as a,Qt as b,mn as c,At as d,_t as h,zt as i,Lt as o,Gt as p,Ot as s,ln as u};
